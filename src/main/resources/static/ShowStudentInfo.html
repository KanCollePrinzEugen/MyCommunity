<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://unpkg.com/vue@next"></script>
</head>
<body>
    <div id="app">
        <img v-bind:src="picUrl" style="width:100px; height:100px;float:left;margin-right: 20px">
        <div><p>姓名：{{recommendStudent.name}}</p>
            <p>学号：{{recommendStudent.id}}</p>
            <p>成绩：{{recommendStudent.grade}}</p></div>
        <el-button @click="randomTime()" style="margin-right: 20px">{{txt}}</el-button>
        <el-button @click="save()">保存</el-button>
    </div>
    <script>
        const app = {
            data(){
                return {
                    studentData: [
                        {
                            name: '张三',
                            id: '001',
                            img: './images/portrait/1.jpg',
                            grade: 46
                        },
                        {
                            name: '陈发树',
                            id: '002',
                            img: './images/portrait/3.jpg',
                            grade: 64
                        },
                        {
                            name: '章寄海',
                            id: '003',
                            img: './images/portrait/4.jpg',
                            grade: 75
                        },
                        {
                            name: '董妊跄',
                            id: '004',
                            img: './images/portrait/2.jpeg',
                            grade: 98
                        },
                        {
                            name: '瞿颖',
                            id: '005',
                            img: './images/portrait/5.jpg',
                            grade: 23
                        },
                        {
                            name: '章小龙',
                            id: '006',
                            img: './images/portrait/2.jpeg',
                            grade: 54
                        },
                        {
                            name: '冯绍峰',
                            id: '007',
                            img: './images/portrait/2.jpeg',
                            grade: 76
                        },
                        {
                            name: '平方根',
                            id: '008',
                            img: './images/portrait/2.jpeg',
                            grade: 89
                        },
                    ],
                    //用于显示的信息
                    recommendStudent: {
                        name: '',
                        id: '',
                        img: '',
                        grade: ''
                    },
                    // 按钮文本内容
                    txt:"开始点名",
                    // 流程控制开关
                    open:true,
                    // 定义计时器开关
                    timer:null,
                    picUrl :''
                }
            },
            methods: {
                randomData(){
                    this.recommendStudent=this.studentData[Math.round(Math.random()*this.studentData.length)]
                    this.picUrl = this.recommendStudent.img
                },
                randomTime(){
                    // 流程控制开关
                    if(this.open){
                        // 定义计时器，调用move方法
                        this.timer = setInterval(this.randomData,100)
                        this.txt = "暂停"
                        this.open = false
                    }else{
                        // 清除计时器
                        clearInterval(this.timer)
                        this.txt = "开始"
                        this.open = true
                    }
                },
                save(){
                    console.log(this.recommendStudent)
                }
            }
        }
        Vue.createApp(app).mount('#app')
        window.onload = load;
    </script>
</body>
</html>